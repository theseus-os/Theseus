[package]
authors = ["Kevin Boos <kevinaboos@gmail.com>"]
name = "wasmtime_runner"
description = "Executes WASM modules with `wasmtime` from the Theseus kernel"
version = "0.1.0"
build = "../../build.rs"
edition = "2018"

[dependencies]
log = "0.4.8"
libc = { version = "0.2", default-features = false }
core2 = { version = "0.4.0", default-features = false, features = ["alloc", "nightly"] }
anyhow = { version = "1.0", default-features = false }

[dependencies.terminal_print]
path = "../terminal_print"

## working!
[dependencies.wasmparser]
path = "../../libs/wasm-tools/crates/wasmparser"
default-features = false

## working!
[dependencies.cranelift-entity]
path = "../../ports/wasmtime/cranelift/entity"
features = ['enable-serde']

## working!
[dependencies.wasmtime-types]
path = "../../ports/wasmtime/crates/types"
default-features = false

## working!
[dependencies.wasmtime-environ]
path = "../../ports/wasmtime/crates/environ"
default-features = false

## working!
[dependencies.region]
path = "../../ports/region"

# working, but may be incomplete
[dependencies.wasmtime-runtime]
path = "../../ports/wasmtime/crates/runtime"
default-features = false

# working
[dependencies.wasmtime-jit]
path = "../../ports/wasmtime/crates/jit"
default-features = false

# in progress
[dependencies.wasmtime]
path = "../../ports/wasmtime/crates/wasmtime"
default-features = false


[lib]
crate-type = ["rlib"]
