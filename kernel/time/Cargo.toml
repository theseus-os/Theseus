[package]
name = "time"
version = "0.1.0"
authors = ["Klim Tsoutsman <klim@tsoutsman.com>", "Kevin Boos <kevinaboos@gmail.com>"]
description = "Abstraction for hardware timers"
edition = "2021"

[lib]
crate-type = ["rlib"]

[dependencies.log]
version = "0.4.8"

[dependencies.apic]
path = "../apic"
optional = true

[dependencies.hpet-acpi]
path = "../acpi/hpet"
optional = true

[dependencies.interrupts]
path = "../interrupts"
optional = true

[dependencies.ioapic]
path = "../ioapic"
optional = true

[dependencies.kernel_config]
path = "../kernel_config"
optional = true

[dependencies.lockable]
path = "../../libs/lockable"
optional = true

[dependencies.port_io]
path = "../../libs/port_io"
optional = true

[dependencies.spin]
version = "0.9.0"
optional = true

[dependencies.x86_64]
version = "0.14.8"
optional = true

[features]
default = ["apic", "hpet", "pit", "rtc", "tsc"]
apic = ["dep:apic", "kernel_config", "lockable", "x86_64"]
hpet = ["hpet-acpi", "interrupts", "ioapic"]
pit = ["interrupts", "kernel_config", "port_io", "spin"]
rtc = ["port_io", "spin"]
tsc = []
