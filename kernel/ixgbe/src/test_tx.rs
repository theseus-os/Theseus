use super::NIC_82599;

pub fn test_nic_ixgbe_driver(_: Option<u64>) {
    debug!("TESTING e1000 NIC DRIVER!!");
    dhcp_request_packet();
}

pub fn dhcp_request_packet(){
    let mut nic = NIC_82599.lock();
    let packet:[u8;314] = [0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x1f,0xc6,0x9c,0x89,0x4c,0x08,0x00,0x45,0x00,
                               0x01,0x2c,0xa8,0x36,0x00,0x00,0xfa,0x11,0x17,0x8b,0x00,0x00,0x00,0x00,0xff,0xff,
                               0xff,0xff,0x00,0x44,0x00,0x43,0x01,0x18,0x59,0x1f,0x01,0x01,0x06,0x00,0x00,0x00,
                               0x3d,0x1d,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
                               0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x1f,0xc6,0x9c,0x89,0x4c,0x00,0x00,0x00,0x00,
                               0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
                               0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
                               0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
                               0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
                               0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
                               0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
                               0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
                               0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
                               0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
                               0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
                               0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
                               0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
                               0x00,0x00,0x00,0x00,0x00,0x00,0x63,0x82,0x53,0x63,0x35,0x01,0x01,0x3d,0x07,0x01,
                               0x00,0x1f,0xc6,0x9c,0x89,0x4c,0x32,0x04,0x00,0x00,0x00,0x00,0x37,0x04,0x01,0x03,
                               0x06,0x2a,0xff,0x00,0x00,0x00,0x00,0x00,0x00,0x00];
        let addr = &packet as *const u8;
        let addr: usize = addr as usize;
        let length: u16 = 314;
        let _result = nic.send_packet(addr, length);
}
