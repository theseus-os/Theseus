<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `mod_mgmt` crate."><meta name="keywords" content="rust, rustlang, rust-lang, mod_mgmt"><title>mod_mgmt - Rust</title><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../ayu.css" disabled ><script id="default-settings"></script><script src="../storage.js"></script><script src="../crates.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="icon" type="image/svg+xml" href="../favicon.svg">
<link rel="alternate icon" type="image/png" href="../favicon-16x16.png">
<link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><style type="text/css">#crate-search{background-image:url("../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../mod_mgmt/index.html'><div class='logo-container rust-logo'><img src='../rust-logo.png' alt='logo'></div></a><p class="location">Crate mod_mgmt</p><div class="block version"><p>Version 0.1.0</p></div><div class="sidebar-elems"><a id="all-types" href="all.html"><p>See all mod_mgmt's items</p></a><div class="block items"><ul><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#constants">Constants</a></li><li><a href="#functions">Functions</a></li><li><a href="#types">Type Definitions</a></li></ul></div><p class="location"></p><div id="sidebar-vars" data-name="mod_mgmt" data-ty="mod" data-relpath="../"></div><script defer src="../sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu"><img src="../brush.svg" width="18" height="18" alt="Pick another theme!"></button><div id="theme-choices" role="menu"></div></div><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" id="help-button">?</button>
                <a id="settings-menu" href="../settings.html"><img src="../wheel.svg" width="18" height="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Crate <a class="mod" href="">mod_mgmt</a><button id="copy-path" onclick="copy_path(this)"><img src="../clipboard.svg" width="19" height="18" alt="Copy item import"></button></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../src/mod_mgmt/lib.rs.html#1-2719" title="goto source code">[src]</a></span></h1><h2 id="modules" class="section-header"><a href="#modules">Modules</a></h2>
<table><tr class="module-item"><td><a class="mod" href="parse_nano_core/index.html" title="mod_mgmt::parse_nano_core mod">parse_nano_core</a></td><td class="docblock-short"><p>Routines for parsing the <code>nano_core</code>, the fully-linked, already-loaded base kernel image,
in other words, the code that is currently executing.
As such, it performs no loading, but rather just creates metadata that represents
the existing kernel code that was loaded by the bootloader, and adds those functions to the system map.</p>
</td></tr><tr class="module-item"><td><a class="mod" href="replace_nano_core_crates/index.html" title="mod_mgmt::replace_nano_core_crates mod">replace_nano_core_crates</a></td><td class="docblock-short"><p>Routines for replacing the crates that comprise the <code>nano_core</code>,
i.e., the base kernel image. </p>
</td></tr></table><h2 id="structs" class="section-header"><a href="#structs">Structs</a></h2>
<table><tr class="module-item"><td><a class="struct" href="struct.AppCrateRef.html" title="mod_mgmt::AppCrateRef struct">AppCrateRef</a></td><td class="docblock-short"><p>An application crate that has been loaded into a <code>CrateNamespace</code>.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.CrateNamespace.html" title="mod_mgmt::CrateNamespace struct">CrateNamespace</a></td><td class="docblock-short"><p>This struct represents a namespace of crates and their “global” (publicly-visible) symbols.
A crate namespace struct is basically a container around many crates 
that have all been loaded and linked against each other, 
completely separate and in isolation from any other crate namespace 
(although a given crate may be shared across multiple namespaces).</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.LoadedCrate.html" title="mod_mgmt::LoadedCrate struct">LoadedCrate</a></td><td class="docblock-short"><p>Represents a single crate whose object file has been 
loaded and linked into at least one <code>CrateNamespace</code>.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.LoadedSection.html" title="mod_mgmt::LoadedSection struct">LoadedSection</a></td><td class="docblock-short"><p>Represents a section that has been loaded and is part of a <code>LoadedCrate</code>.
The containing <code>SectionType</code> enum determines which type of section it is.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.LoadedSectionInner.html" title="mod_mgmt::LoadedSectionInner struct">LoadedSectionInner</a></td><td class="docblock-short"><p>The parts of a <code>LoadedSection</code> that may be mutable, i.e., 
only the parts that could change after a section is initially loaded and linked.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.NamespaceDir.html" title="mod_mgmt::NamespaceDir struct">NamespaceDir</a></td><td class="docblock-short"><p>A wrapper around a <code>Directory</code> reference that offers special convenience functions
for getting and inserting crate object files into a directory.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.RelocationEntry.html" title="mod_mgmt::RelocationEntry struct">RelocationEntry</a></td><td class="docblock-short"><p>The information necessary to calculate and write a relocation value,
based on a source section and a target section, in which a value 
based on the location of the source section is written somwhere in the target section.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.StrongDependency.html" title="mod_mgmt::StrongDependency struct">StrongDependency</a></td><td class="docblock-short"><p>A representation that the owner <code>A</code> of (a <code>LoadedSection</code> object containing) this struct
depends on the given <code>section</code> <code>B</code> in this struct.
The dependent section <code>A</code> is not specifically included here;
since it’s the owner of this struct, it’s implicit that it’s the dependent one.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.TlsDataImage.html" title="mod_mgmt::TlsDataImage struct">TlsDataImage</a></td><td class="docblock-short"><p>An initialized TLS area data image ready to be used by a new task.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.WeakDependent.html" title="mod_mgmt::WeakDependent struct">WeakDependent</a></td><td class="docblock-short"><p>A representation that the <code>section</code> <code>A</code> in this struct
depends on the owner <code>B</code> of (the <code>LoadedSection</code> object containing) this struct. 
The target dependency <code>B</code> is not specifically included here; 
it’s implicitly the owner of this struct.</p>
</td></tr></table><h2 id="enums" class="section-header"><a href="#enums">Enums</a></h2>
<table><tr class="module-item"><td><a class="enum" href="enum.CrateType.html" title="mod_mgmt::CrateType enum">CrateType</a></td><td class="docblock-short"><p>The type of a crate, based on its object file naming convention.
This naming convention is only used for crate object files
that come from <strong>bootloader-provided modules</strong>,
which the Theseus makefile assigns at build time.</p>
</td></tr><tr class="module-item"><td><a class="enum" href="enum.IntoCrateObjectFile.html" title="mod_mgmt::IntoCrateObjectFile enum">IntoCrateObjectFile</a></td><td class="docblock-short"><p>A type that can be converted into a crate object file.</p>
</td></tr><tr class="module-item"><td><a class="enum" href="enum.SectionType.html" title="mod_mgmt::SectionType enum">SectionType</a></td><td class="docblock-short"><p>The possible types of sections that can be loaded from a crate object file.</p>
</td></tr></table><h2 id="constants" class="section-header"><a href="#constants">Constants</a></h2>
<table><tr class="module-item"><td><a class="constant" href="constant.CRATE_HASH_DELIMITER.html" title="mod_mgmt::CRATE_HASH_DELIMITER constant">CRATE_HASH_DELIMITER</a></td><td class="docblock-short"><p>A crate’s name and its hash are separated by “-”, i.e., “my_crate-hash”.</p>
</td></tr><tr class="module-item"><td><a class="constant" href="constant.DATA_BSS_SECTION_FLAGS.html" title="mod_mgmt::DATA_BSS_SECTION_FLAGS constant">DATA_BSS_SECTION_FLAGS</a></td><td class="docblock-short"><p><code>.data</code> and <code>.bss</code> sections are read-write and non-executable.</p>
</td></tr><tr class="module-item"><td><a class="constant" href="constant.EXTRA_FILES_DIRECTORY_NAME.html" title="mod_mgmt::EXTRA_FILES_DIRECTORY_NAME constant">EXTRA_FILES_DIRECTORY_NAME</a></td><td class="docblock-short"><p>The name of the directory that contains all other “extra_files” contents.</p>
</td></tr><tr class="module-item"><td><a class="constant" href="constant.MODULE_PREFIX_DELIMITER.html" title="mod_mgmt::MODULE_PREFIX_DELIMITER constant">MODULE_PREFIX_DELIMITER</a></td><td class="docblock-short"><p>The Theseus Makefile appends prefixes onto bootloader module names,
which are separated by the “#” character. 
For example, “k#my_crate-hash.o”.</p>
</td></tr><tr class="module-item"><td><a class="constant" href="constant.NAMESPACES_DIRECTORY_NAME.html" title="mod_mgmt::NAMESPACES_DIRECTORY_NAME constant">NAMESPACES_DIRECTORY_NAME</a></td><td class="docblock-short"><p>The name of the directory that contains all of the CrateNamespace files.</p>
</td></tr><tr class="module-item"><td><a class="constant" href="constant.RODATA_SECTION_FLAGS.html" title="mod_mgmt::RODATA_SECTION_FLAGS constant">RODATA_SECTION_FLAGS</a></td><td class="docblock-short"><p><code>.rodata</code> sections are read-only and non-executable.</p>
</td></tr><tr class="module-item"><td><a class="constant" href="constant.SECTION_HASH_DELIMITER.html" title="mod_mgmt::SECTION_HASH_DELIMITER constant">SECTION_HASH_DELIMITER</a></td><td class="docblock-short"><p>A section’s demangled name and its hash are separated by “::h”, 
e.g., “my_crate::section_name::h<hash>”.</p>
</td></tr><tr class="module-item"><td><a class="constant" href="constant.TEXT_SECTION_FLAGS.html" title="mod_mgmt::TEXT_SECTION_FLAGS constant">TEXT_SECTION_FLAGS</a></td><td class="docblock-short"><p><code>.text</code> sections are read-only and executable.</p>
</td></tr></table><h2 id="functions" class="section-header"><a href="#functions">Functions</a></h2>
<table><tr class="module-item"><td><a class="fn" href="fn.crate_name_from_path.html" title="mod_mgmt::crate_name_from_path fn">crate_name_from_path</a></td><td class="docblock-short"><p>Returns the crate name that is derived from a crate object file path.</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.create_application_namespace.html" title="mod_mgmt::create_application_namespace fn">create_application_namespace</a></td><td class="docblock-short"><p>Create a new application <code>CrateNamespace</code> that uses the default application directory 
and is structured atop the given <code>recursive_namespace</code>. 
If no <code>recursive_namespace</code> is provided, the default initial kernel namespace will be used. </p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.find_symbol_table.html" title="mod_mgmt::find_symbol_table fn">find_symbol_table</a></td><td class="docblock-short"><p>Returns a reference to the symbol table in the given <code>ElfFile</code>.</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.get_containing_crate_name.html" title="mod_mgmt::get_containing_crate_name fn">get_containing_crate_name</a></td><td class="docblock-short"><p>Parses the given symbol string to try to find the name of the parent crate
that contains the symbol. 
Depending on the symbol, there may be multiple potential parent crates;
if so, they are returned in order of likeliness: 
the first crate name in the symbol is most likely to contain it.
If the parent crate cannot be determined (e.g., a <code>no_mangle</code> symbol),
then an empty <code>Vec</code> is returned.</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.get_initial_kernel_namespace.html" title="mod_mgmt::get_initial_kernel_namespace fn">get_initial_kernel_namespace</a></td><td class="docblock-short"><p>Returns a reference to the default kernel namespace, 
which must exist because it contains the initially-loaded kernel crates. 
Returns None if the default namespace hasn’t yet been initialized.</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.get_namespaces_directory.html" title="mod_mgmt::get_namespaces_directory fn">get_namespaces_directory</a></td><td class="docblock-short"><p>Returns the top-level directory that contains all of the namespaces. </p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.init.html" title="mod_mgmt::init fn">init</a></td><td class="docblock-short"><p>Initializes the module management system based on the bootloader-provided modules, 
and creates and returns the default <code>CrateNamespace</code> for kernel crates.</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.replace_containing_crate_name.html" title="mod_mgmt::replace_containing_crate_name fn">replace_containing_crate_name</a></td><td class="docblock-short"><p>Replaces the <code>old_crate_name</code> substring in the given <code>demangled_full_symbol</code> with the given <code>new_crate_name</code>, 
if it can be found, and if the parent crate name matches the <code>old_crate_name</code>. 
If the parent crate name can be found but does not match the expected <code>old_crate_name</code>,
then None is returned.</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.write_relocation.html" title="mod_mgmt::write_relocation fn">write_relocation</a></td><td class="docblock-short"><p>Write an actual relocation entry.</p>
</td></tr></table><h2 id="types" class="section-header"><a href="#types">Type Definitions</a></h2>
<table><tr class="module-item"><td><a class="type" href="type.Shndx.html" title="mod_mgmt::Shndx type">Shndx</a></td><td class="docblock-short"><p>A Section Header iNDeX (SHNDX), as specified by the ELF format. 
Even though this is typically encoded as a <code>u16</code>, its decoded form can exceed the max size of <code>u16</code>.</p>
</td></tr><tr class="module-item"><td><a class="type" href="type.StrongCrateRef.html" title="mod_mgmt::StrongCrateRef type">StrongCrateRef</a></td><td class="docblock-short"><p>A Strong reference to a <code>LoadedCrate</code>.</p>
</td></tr><tr class="module-item"><td><a class="type" href="type.StrongSectionRef.html" title="mod_mgmt::StrongSectionRef type">StrongSectionRef</a></td><td class="docblock-short"><p>A Strong reference (<code>Arc</code>) to a <code>LoadedSection</code>.</p>
</td></tr><tr class="module-item"><td><a class="type" href="type.SymbolMap.html" title="mod_mgmt::SymbolMap type">SymbolMap</a></td><td class="docblock-short"><p>A “symbol map” from a fully-qualified demangled symbol String<br />
to weak reference to a <code>LoadedSection</code>.
This is used for relocations, and for looking up function names.</p>
</td></tr><tr class="module-item"><td><a class="type" href="type.SymbolMapIter.html" title="mod_mgmt::SymbolMapIter type">SymbolMapIter</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="type" href="type.WeakCrateRef.html" title="mod_mgmt::WeakCrateRef type">WeakCrateRef</a></td><td class="docblock-short"><p>A Weak reference to a <code>LoadedCrate</code>.</p>
</td></tr><tr class="module-item"><td><a class="type" href="type.WeakSectionRef.html" title="mod_mgmt::WeakSectionRef type">WeakSectionRef</a></td><td class="docblock-short"><p>A Weak reference (<code>Weak</code>) to a <code>LoadedSection</code>.</p>
</td></tr></table></section><section id="search" class="content hidden"></section><div id="rustdoc-vars" data-root-path="../" data-current-crate="mod_mgmt" data-search-index-js="../search-index.js" data-search-js="../search.js"></div>
    <script src="../main.js"></script></body></html>